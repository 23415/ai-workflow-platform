version: "3.8"

services:
  auth-service:
    image: your-dockerhub/auth-service:latest
    container_name: auth-service
    environment:
      SPRING_PROFILES_ACTIVE: prod

      SPRING_DATASOURCE_URL: ${AUTH_DB_URL}
      SPRING_DATASOURCE_USERNAME: ${AUTH_DB_USERNAME}
      SPRING_DATASOURCE_PASSWORD: ${AUTH_DB_PASSWORD}

      JWT_SECRET: ${JWT_SECRET}
      JWT_EXPIRATION: ${JWT_EXPIRATION}

      KAFKA_BOOTSTRAP_SERVERS: ${KAFKA_BOOTSTRAP_SERVERS}

    restart: always

  workflow-service:
    image: your-dockerhub/workflow-service:latest
    container_name: workflow-service
    environment:
      SPRING_PROFILES_ACTIVE: prod

      SPRING_DATASOURCE_URL: ${WORKFLOW_DB_URL}
      SPRING_DATASOURCE_USERNAME: ${WORKFLOW_DB_USERNAME}
      SPRING_DATASOURCE_PASSWORD: ${WORKFLOW_DB_PASSWORD}

      REDIS_HOST: ${REDIS_HOST}
      REDIS_PORT: ${REDIS_PORT}

      KAFKA_BOOTSTRAP_SERVERS: ${KAFKA_BOOTSTRAP_SERVERS}
      JWT_SECRET: ${JWT_SECRET}

    restart: always

  ai-service:
    image: your-dockerhub/ai-service:latest
    container_name: ai-service
    environment:
      AI_MODEL_PATH: ${AI_MODEL_PATH}
      SERVICE_NAME: ai-service
    restart: always
